<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‚ú® AI Content & Image Generator</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f9fafb; padding: 20px; }
    h1 { color: #0066cc; }
    .card { background: white; padding: 20px; border-radius: 8px; 
            box-shadow: 0 2px 6px rgba(0,0,0,0.1); margin-bottom: 20px; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select { width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 5px; }
    button { padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; margin-top: 15px; }
    button.generate { background: #0066cc; color: white; }
    button.generate:hover { background: #004a99; }
    button.wake { background: #28a745; color: white; }
    button.wake:hover { background: #1e7e34; }
    .status { padding: 10px; margin-top: 10px; border-radius: 5px; font-weight: bold; text-align: center; }
    .green { background: #d4edda; color: #155724; }
    .orange { background: #fff3cd; color: #856404; }
    .red { background: #f8d7da; color: #721c24; }
    pre { background: #1e1e1e; color: #33ff33; padding: 10px; border-radius: 5px; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>‚ú® AI Content & Image Generator</h1>

  <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡∏ï‡πå -->
  <div class="card">
    <label>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ (Topic):</label>
    <input type="text" id="topic" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏•‡∏¢, ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏¥‡∏ô...">

    <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5):</label>
    <input type="number" id="count" min="1" max="5" value="1">

    <label>‡πÇ‡∏´‡∏°‡∏î:</label>
    <select id="mode">
      <option value="text">Text (‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡∏ï‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå)</option>
      <option value="image">Image (‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö)</option>
    </select>

    <label>‡πÇ‡∏°‡πÄ‡∏î‡∏•:</label>
    <select id="model">
      <option value="gemini-2.0-flash">Gemini 2.0 Flash ‚ö°</option>
      <option value="gemini-2.0-pro">Gemini 2.0 Pro üß†</option>
    </select>

    <label>‡πÇ‡∏ó‡∏ô‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°/‡∏†‡∏≤‡∏û:</label>
    <select id="tone">
      <option value="‡∏á‡πà‡∏≤‡∏¢‡πÜ">‡πÅ‡∏ö‡∏ö‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢ üìò</option>
      <option value="‡∏ï‡∏•‡∏Å">‡πÅ‡∏ô‡∏ß‡∏ï‡∏•‡∏Å‡∏Ç‡∏≥‡πÜ üòÇ</option>
      <option value="‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á">‡πÅ‡∏ô‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á/‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£ üèõÔ∏è</option>
      <option value="‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à ‚ú®</option>
    </select>

    <label>‡∏†‡∏≤‡∏©‡∏≤:</label>
    <select id="lang">
      <option value="th">‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ üáπüá≠</option>
      <option value="en">English üá¨üáß</option>
    </select>

    <label>‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°:</label>
    <select id="platform">
      <option value="facebook">Facebook</option>
      <option value="instagram">Instagram</option>
      <option value="twitter">Twitter</option>
    </select>

    <button class="generate" onclick="generateContent()">Generate Content</button>
  </div>

  <!-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Server -->
  <div class="card">
    <h3>üñ•Ô∏è Server Status</h3>
    <button class="wake" onclick="wakeServer()">Wake Server</button>
    <div id="serverStatus" class="status red">üî¥ Server ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà</div>
  </div>

  <!-- ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
  <div id="result" class="card" style="display:none;">
    <h2>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:</h2>
    <p id="postText"></p>
    <pre id="imagePrompt"></pre>
    <button onclick="copyResult()">üìã Copy</button>
  </div>

  <script>
    const API_URL = "https://YOUR-RENDER-URL.onrender.com"; // üëà ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô proxy ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

    async function checkStatus() {
      const statusBox = document.getElementById("serverStatus");
      try {
        const res = await fetch(API_URL + "/");
        if (res.ok) {
          statusBox.className = "status green";
          statusBox.innerText = "üü¢ Server ‡∏ï‡∏∑‡πà‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô";
        } else {
          statusBox.className = "status red";
          statusBox.innerText = "üî¥ Server ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà";
        }
      } catch {
        statusBox.className = "status red";
        statusBox.innerText = "üî¥ Server ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà";
      }
    }

    async function wakeServer() {
      const statusBox = document.getElementById("serverStatus");
      statusBox.className = "status orange";
      statusBox.innerText = "üü† ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏•‡∏∏‡∏Å Server...";
      try {
        const res = await fetch(API_URL + "/");
        if (res.ok) {
          statusBox.className = "status green";
          statusBox.innerText = "üü¢ Server ‡∏ï‡∏∑‡πà‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô";
        } else {
          statusBox.className = "status red";
          statusBox.innerText = "üî¥ Server ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà";
        }
      } catch {
        statusBox.className = "status red";
        statusBox.innerText = "üî¥ Server ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà";
      }
    }

    async function generateContent() {
      const topic = document.getElementById("topic").value;
      const count = document.getElementById("count").value;
      const model = document.getElementById("model").value;
      const mode = document.getElementById("mode").value;
      const tone = document.getElementById("tone").value;
      const lang = document.getElementById("lang").value;
      const platform = document.getElementById("platform").value;

      if (!topic) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å Topic ‡∏Å‡πà‡∏≠‡∏ô");

      document.getElementById("result").style.display = "block";
      document.getElementById("postText").innerText = "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå...";
      document.getElementById("imagePrompt").innerText = "";

      try {
        const res = await fetch(API_URL + "/generate", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ topic, count, model, mode, tone, lang, platform })
        });
        const data = await res.json();

        const text = data?.data?.candidates?.[0]?.content?.parts?.[0]?.text || "‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå";
        document.getElementById("postText").innerText = text;
        document.getElementById("imagePrompt").innerText = mode === "image" ? "Image Prompt: " + topic : "";
      } catch (e) {
        document.getElementById("postText").innerText = "‚ùå Error: " + e.message;
      }
    }

    function copyResult() {
      const text = document.getElementById("postText").innerText;
      navigator.clipboard.writeText(text);
      alert("‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!");
    }

    // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ server ‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
    checkStatus();
  </script>
</body>
</html>
